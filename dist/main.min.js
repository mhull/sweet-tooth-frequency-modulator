function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}function o(e,t,n){var i=t.get(e);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(e,n);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=n}return n}function h(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function c(e){var t,n=function(e){var t=e.id,n=e.element,i=e.template,a=e.classNames,s=e.props;return t=t||n.id,n=n||document.createElement("div"),a=[].concat(r(a),["component"]),{id:t,element:n,template:i,classNames:a,props:s=s||{},propValues:{}}}(e);return(t=n.element.classList).add.apply(t,r(n.classNames)),i((function(e,t){n.propValues[e]=function(e,t){return n.element.hasAttribute(e)?function(e,t){return a(e,t,n.element.getAttribute(e))}(e,t):n.element.hasAttribute(":".concat(e))?function(e,t){var i=n.element.getAttribute(":".concat(e));return i=Function("'use strict'; return ".concat(i,";"))(),a(e,t,i)}(e,t):t.hasOwnProperty("default")?function(e,t){return a(e,t,t.default)}(e,t):null}(e,t)})),s("id",n.id),i((function(e){s(e,n.propValues[e]||"")})),i((function(e){n.element.removeAttribute(e)})),n.element.innerHTML=n.template,n.on=function(e,t){return n.element.addEventListener(e,t)},n.emit=function(e,t){var i=new Event(e);i.data=t,n.element.dispatchEvent(i)},n;function i(e){for(var t in n.props)n.props.hasOwnProperty(t)&&e(t,n.props[t])}function a(e,t,n){return t.hasOwnProperty("type")&&"function"==typeof t.type?t.type(n):n}function s(e,t){var i=function(e){return new RegExp("{{\\s*".concat(e,"\\s*}}"),"gm")}(e);n.template=n.template.replace(i,t)}}function d(e){var t,n,i;return t=c(function(e){return s(s({},e),{},{classNames:[].concat(r(e.classNames||[]),["switch-input"]),template:'<div class="switch-input form-input">\n  <label for="{{ id }}__label">{{ label }}</label>\n  <input id="{{ id }}__label" type="checkbox" value="1">\n</div>\n\n<div class="switch body">\n  <div class="mount">\n    <div class="ring outer"></div>\n    <div class="ring inner"></div>\n  </div>\n  <div class="toggle"></div>\n  <div class="socket"></div>\n</div>\n',props:{label:{type:String,default:""},isOn:{type:Boolean,default:!1}}})}(e)),n=t.element.querySelector(".switch.body"),i=t.element.querySelector("input"),t.toggle=function(e){var a="boolean"==typeof e?n.classList.toggle("on",e):n.classList.toggle("on");a?i.setAttribute("checked","checked"):i.removeAttribute("checked"),t.emit("toggle",a)},n.addEventListener("click",t.toggle),i.addEventListener("change",(function(){i.checked?t.toggle(!0):t.toggle(!1)})),t.propValues.isOn&&t.toggle(!0),t}var v='<div class="knob input">\n  <label for="knob-input-example__input">Value:</label>\n  <input id="knob-input-example__input" type="text" value="">\n</div>\n\n<div class="knob body" draggable="true" tabindex="0"></div>\n',f=new WeakMap,g=new WeakSet,w=function(){function t(n){e(this,t),g.add(this),f.set(this,{writable:!0,value:void 0}),h(this,g,p).call(this,Number(n))}return n(t,[{key:"getValue",value:function(){return u(this,f)}},{key:"hasValue",value:function(){return Boolean(u(this,f))||0===u(this,f)}}]),t}(),p=function(e){o(this,f,e)},k=new WeakMap,m=new WeakMap,b=new WeakMap,y=new WeakMap,W=new WeakSet,S=new WeakSet,M=new WeakSet,V=new WeakSet,T=function(){function t(n){e(this,t),V.add(this),M.add(this),S.add(this),W.add(this),k.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0});var i=n.radians,a=n.degrees,s=n.arcsin,r=n.quadrant;h(this,W,E).call(this,i),h(this,S,A).call(this,a),h(this,M,O).call(this,s),h(this,V,R).call(this,r)}return n(t,[{key:"getRadians",value:function(){return u(this,k).hasValue()?u(this,k).getValue():u(this,m).hasValue()?this.degreesToRadians(u(this,m).getValue()):u(this,b).hasValue()&&Boolean(u(this,y))?this.arcsinToRadians(u(this,b).getValue(),u(this,y)):null}},{key:"getDegrees",value:function(){return u(this,m).hasValue()?u(this,m).getValue():this.radiansToDegrees(u(this,k).getValue())}},{key:"degreesToRadians",value:function(e){return e*Math.PI/180}},{key:"arcsinToRadians",value:function(e,t){return t?[1,4].indexOf(t)>-1?e:Math.PI-e:e}},{key:"getCssDegrees",value:function(){return-1*(this.getDegrees()-90)}},{key:"radiansToDegrees",value:function(e){return 180*e/Math.PI}},{key:"plus",value:function(e){return new t({radians:this.getRadians()+e.getRadians()})}},{key:"minus",value:function(e){return new t({radians:this.getRadians()-e.getRadians()})}}]),t}(),E=function(e){o(this,k,new w(e))},A=function(e){o(this,m,new w(e))},O=function(e){o(this,b,new w(e))},R=function(e){o(this,y,e)},x=new WeakMap,P=new WeakMap,L=new WeakSet,N=new WeakSet,j=new WeakSet,q=new WeakSet,D=new WeakSet,I=new WeakSet,C=function(){function t(n){e(this,t),I.add(this),D.add(this),q.add(this),j.add(this),N.add(this),L.add(this),x.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0});var i=n.fromPoint,a=n.toPoint;h(this,L,_).call(this,i),h(this,N,B).call(this,a)}return n(t,[{key:"getAngle",value:function(){return new T({arcsin:Math.asin(h(this,q,X).call(this)/h(this,D,Y).call(this)),quadrant:h(this,I,F).call(this)})}}]),t}(),_=function(e){o(this,x,e)},B=function(e){o(this,P,e)},H=function(){return u(this,P).getX()-u(this,x).getX()},X=function(){return u(this,x).getY()-u(this,P).getY()},Y=function(){var e=Math.pow(h(this,j,H).call(this),2),t=Math.pow(h(this,q,X).call(this),2);return Math.sqrt(e+t)},F=function(){var e=h(this,q,X).call(this);return h(this,j,H).call(this)>0?e>0?1:4:e>0?2:3},U=new WeakMap,G=new WeakMap,$=function(){function t(n){e(this,t),U.set(this,{writable:!0,value:void 0}),G.set(this,{writable:!0,value:void 0}),o(this,U,n[0]),o(this,G,n[1])}return n(t,[{key:"getX",value:function(){return u(this,U)}},{key:"getY",value:function(){return u(this,G)}},{key:"getDistanceTo",value:function(e){return new C({fromPoint:this,toPoint:e})}}]),t}(),z=new WeakMap,J=new WeakSet,K=new WeakSet,Q=new WeakSet,Z=function(){function t(n){e(this,t),Q.add(this),K.add(this),J.add(this),z.set(this,{writable:!0,value:void 0}),h(this,J,ee).call(this,n)}return n(t,[{key:"getNode",value:function(){return u(this,z)}},{key:"getCenter",value:function(){var e=u(this,z).getBoundingClientRect();return new $([h(this,K,te).call(this,e),h(this,Q,ne).call(this,e)])}},{key:"emit",value:function(e,t){var n=new Event(e);n.data=t,this.getNode().dispatchEvent(n)}},{key:"on",value:function(e,t){this.getNode().addEventListener(e,t)}}]),t}(),ee=function(e){o(this,z,e)},te=function(e){return(e.left+e.right)/2},ne=function(e){return(e.top+e.bottom)/2},ie=new WeakMap,ae=new WeakMap,se=new WeakMap,re=new WeakMap,le=new WeakMap,ue=new WeakSet,oe=new WeakSet,he=new WeakSet,ce=new WeakSet,de=new WeakSet,ve=new WeakSet,fe=new WeakSet,ge=new WeakSet,we=new WeakSet,pe=new WeakSet,ke=new WeakSet,me=new WeakSet,be=new WeakSet,ye=function(){function t(n){e(this,t),be.add(this),me.add(this),ke.add(this),pe.add(this),we.add(this),ge.add(this),fe.add(this),ve.add(this),de.add(this),ce.add(this),he.add(this),oe.add(this),ue.add(this),ie.set(this,{writable:!0,value:void 0}),ae.set(this,{writable:!0,value:void 0}),se.set(this,{writable:!0,value:void 0}),re.set(this,{writable:!0,value:void 0}),le.set(this,{writable:!0,value:void 0});var i=n.knob,a=n.initialEvent;h(this,ue,We).call(this,i),h(this,oe,Se).call(this,a),h(this,he,Me).call(this,a),h(this,ce,Ve).call(this),h(this,de,Te).call(this)}return n(t,[{key:"respondTo",value:function(e){h(this,he,Me).call(this,e);var t=h(this,be,Ne).call(this).minus(u(this,le)),n=u(this,re).plus(t);u(this,ie).rotateTo({angle:n})}}]),t}(),We=function(e){o(this,ie,e)},Se=function(e){o(this,ae,e)},Me=function(e){o(this,se,e)},Ve=function(){o(this,re,u(this,ie).getAngle())},Te=function(){o(this,le,h(this,be,Ne).call(this))},Ee=function(e){return new $(h(this,fe,Ae).call(this,e))},Ae=function(e){return h(this,ge,Oe).call(this,e)?h(this,we,Re).call(this,e):h(this,pe,xe).call(this,e)},Oe=function(e){return["dragstart","dragover"].indexOf(e.type)>-1},Re=function(e){return[e.pageX,e.pageY]},xe=function(e){return[e.changedTouches[0].pageX,e.changedTouches[0].pageY]},Pe=function(){return h(this,ve,Ee).call(this,u(this,se))},Le=function(){return u(this,ie).getElement().getCenter().getDistanceTo(h(this,ke,Pe).call(this))},Ne=function(){return h(this,me,Le).call(this).getAngle()},je=new WeakMap,qe=new WeakMap,De=new WeakMap,Ie=new WeakSet,Ce=new WeakSet,_e=new WeakSet,Be=new WeakSet,He=new WeakSet,Xe=function(){function t(n){e(this,t),He.add(this),Be.add(this),_e.add(this),Ce.add(this),Ie.add(this),je.set(this,{writable:!0,value:void 0}),qe.set(this,{writable:!0,value:!1}),De.set(this,{writable:!0,value:void 0});var i=n.knob;h(this,Ie,Ye).call(this,i),this.listen()}return n(t,[{key:"listen",value:function(){var e=h(this,Ce,Fe).call(this);e.addEventListener("dragstart",h(this,_e,Ue).bind(this)),e.addEventListener("dragend",this.dragend.bind(this)),document.addEventListener("dragover",this.dragover.bind(this)),e.addEventListener("touchstart",this.touchstart.bind(this)),e.addEventListener("touchmove",this.touchmove.bind(this))}},{key:"dragend",value:function(){o(this,qe,!1)}},{key:"dragover",value:function(e){u(this,qe)&&u(this,De).respondTo(e)}},{key:"touchstart",value:function(e){h(this,He,$e).call(this,e)}},{key:"touchmove",value:function(e){u(this,De).respondTo(e)}}]),t}(),Ye=function(e){o(this,je,e)},Fe=function(){return u(this,je).getElement().getNode()},Ue=function(e){h(this,He,$e).call(this,e),h(this,Be,Ge).call(this,e),o(this,qe,!0)},Ge=function(e){e.dataTransfer.setDragImage(document.createElement("div"),0,0)},$e=function(e){o(this,De,new ye({knob:u(this,je),initialEvent:e}))},ze=new WeakMap,Je=new WeakMap,Ke=new WeakMap,Qe=new WeakMap,Ze=new WeakSet,et=new WeakSet,tt=new WeakSet,nt=new WeakSet,it=new WeakSet,at=new WeakSet,st=function(){function t(n){e(this,t),at.add(this),it.add(this),nt.add(this),tt.add(this),et.add(this),Ze.add(this),ze.set(this,{writable:!0,value:void 0}),Je.set(this,{writable:!0,value:void 0}),Ke.set(this,{writable:!0,value:void 0}),Qe.set(this,{writable:!0,value:void 0}),i(this,"getValue",void 0);var a=n.min,s=n.max,r=n.getValue;h(this,Ze,rt).call(this,a),h(this,tt,ut).call(this,s),r||(r=h(this,at,ct)),h(this,it,ht).call(this,r),h(this,et,lt).call(this),h(this,nt,ot).call(this)}return n(t,[{key:"getMin",value:function(){return u(this,ze)}},{key:"getMinValue",value:function(){return u(this,Ke)}},{key:"getMax",value:function(){return u(this,Je)}},{key:"getMaxValue",value:function(){return u(this,Qe)}},{key:"contains",value:function(e){var t=Number(this.getValue(e));return u(this,Ke)<=t&&t<=u(this,Qe)}},{key:"getNearestItem",value:function(e){return this.getValue(e)<this.getMinValue()?this.getMin():this.getValue(e)>this.getMaxValue()?this.getMax():e}}]),t}(),rt=function(e){o(this,ze,e)},lt=function(){o(this,Ke,Number(this.getValue(u(this,ze))))},ut=function(e){o(this,Je,e)},ot=function(){o(this,Qe,Number(this.getValue(u(this,Je))))},ht=function(e){this.getValue=e},ct=function(e){return Number(e)},dt=new WeakMap,vt=new WeakMap,ft=new WeakMap,gt=new WeakMap,wt=new WeakMap,pt=function(){function t(n){e(this,t),dt.set(this,{writable:!0,value:void 0}),vt.set(this,{writable:!0,value:void 0}),ft.set(this,{writable:!0,value:void 0}),gt.set(this,{writable:!0,value:void 0}),wt.set(this,{writable:!0,value:void 0});var i=n.domain,a=n.range,s=n.isReversed;this.setDomain(i),this.setRange(a),this.setReversed(s),this.setScale(),this.setTranslateAmount()}return n(t,[{key:"setDomain",value:function(e){o(this,dt,e)}},{key:"setRange",value:function(e){o(this,vt,e)}},{key:"setReversed",value:function(e){o(this,ft,e)}},{key:"setScale",value:function(){var e=(u(this,vt).getMaxValue()-u(this,vt).getMinValue())/(u(this,dt).getMaxValue()-u(this,dt).getMinValue());o(this,gt,u(this,ft)?-1*e:e)}},{key:"setTranslateAmount",value:function(){o(this,wt,u(this,ft)?u(this,vt).getMaxValue():u(this,vt).getMinValue())}},{key:"map",value:function(e){var t=u(this,dt).getValue(e);return Math.abs(t-u(this,dt).getMinValue())*u(this,gt)+u(this,wt)}},{key:"getInverse",value:function(e){return(u(this,vt).getValue(e)-u(this,wt))/u(this,gt)+u(this,dt).getMinValue()}}]),t}(),kt=new WeakMap,mt=new WeakMap,bt=new WeakMap,yt=new WeakSet,Wt=new WeakSet,St=new WeakSet,Mt=function(){function t(n){e(this,t),St.add(this),Wt.add(this),yt.add(this),kt.set(this,{writable:!0,value:void 0}),mt.set(this,{writable:!0,value:void 0}),bt.set(this,{writable:!0,value:void 0});var i=n.knob,a=n.range,s=n.isReverseMapping;h(this,yt,Vt).call(this,i),h(this,Wt,Tt).call(this,a),h(this,St,Et).call(this,Boolean(s))}return n(t,[{key:"getValue",value:function(e){return u(this,bt).map(e)}},{key:"getAngle",value:function(e){return new T({radians:u(this,bt).getInverse(e)})}}]),t}(),Vt=function(e){o(this,kt,e)},Tt=function(e){o(this,mt,e)},Et=function(e){o(this,bt,new pt({domain:u(this,kt).getRange(),range:u(this,mt),isReversed:e}))},At=new WeakMap,Ot=new WeakMap,Rt=new WeakMap,xt=new WeakMap,Pt=new WeakMap,Lt=new WeakSet,Nt=new WeakSet,jt=new WeakSet,qt=new WeakSet,Dt=new WeakSet,It=new WeakSet,Ct=new WeakSet,_t=new WeakSet,Bt=new WeakSet,Ht=new WeakSet,Xt=function(){function t(n){e(this,t),Ht.add(this),Bt.add(this),_t.add(this),Ct.add(this),It.add(this),Dt.add(this),qt.add(this),jt.add(this),Nt.add(this),Lt.add(this),At.set(this,{writable:!0,value:void 0}),Ot.set(this,{writable:!0,value:void 0}),Rt.set(this,{writable:!0,value:void 0}),xt.set(this,{writable:!0,value:void 0}),Pt.set(this,{writable:!0,value:void 0});var i=n.element,a=n.range,s=n.initialValue;h(this,Lt,Yt).call(this,i),h(this,jt,Ut).call(this,a),h(this,Ct,Jt).call(this);var r=s?u(this,xt).getAngle(s):h(this,It,zt).call(this);h(this,Dt,$t).call(this,r),h(this,_t,Kt).call(this),h(this,Bt,Qt).call(this,u(this,Rt))}return n(t,[{key:"getElement",value:function(){return u(this,At)}},{key:"getRange",value:function(){return u(this,Ot)}},{key:"getAngle",value:function(){return u(this,Rt)}},{key:"getValue",value:function(e){return e=e||u(this,Rt),u(this,xt).getValue(e)}},{key:"rotateTo",value:function(e){var t=e.angle,n=e.value;t||(t=u(this,xt).getAngle(n)),h(this,Bt,Qt).call(this,t)}},{key:"on",value:function(e,t){this.getElement().on(e,t)}}]),t}(),Yt=function(e){o(this,At,new Z(e))},Ft=function(){return this.getElement().getNode()},Ut=function(e){e||(e=h(this,qt,Gt).call(this)),o(this,Ot,e)},Gt=function(){return new st({min:new T({degrees:-45}),max:new T({degrees:225}),getValue:function(e){return e.getRadians()}})},$t=function(e){o(this,Rt,e)},zt=function(){return this.getRange().getMax()},Jt=function(){o(this,xt,new Mt({knob:this,range:new st({min:0,max:100}),isReverseMapping:!0}))},Kt=function(){o(this,Pt,new Xe({knob:this}))},Qt=function(e){var t=this.getRange();t.contains(e)||(e=t.getNearestItem(e)),h(this,Dt,$t).call(this,e),h(this,Ht,Zt).call(this),this.getElement().emit("rotate",e)},Zt=function(){var e=this.getAngle().getCssDegrees();h(this,Nt,Ft).call(this).style.transform="rotate(".concat(e,"deg)")};function en(e){var t,n,i,a;return function(){o=e.element,o.classList.add("knob","component"),o.innerHTML=v,i=e.initialValue||0,a=e.svg||'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="-1.5 -1.5 3 3">\n  <polygon class="hexagon knob" points="0,-1 0.866,-0.5 0.866,0.5 0,1 -0.866,0.5 -0.866,-0.5" stroke-width="0.1"></polygon>\n  <line class="hexagon notch" x1="0" y1="-0.134" x2="0" y2="-1"/>\n</svg>',t=new Xt({element:s(),initialValue:i}),n=e.element.querySelector(".knob.input input");var o;var h=document.createElement("div");h.innerHTML=a,s().appendChild(h),r(i),n.addEventListener("change",u),t.on("rotate",l)}(),t;function s(){return e.element.querySelector(".knob.body")}function r(e){n.value=e}function l(e){r(t.getValue(e.data))}function u(e){var n=parseFloat(e.target.value);(n||0===n)&&t.rotateTo({value:n})}}var tn,nn=new(window.AudioContext||window.webkitAudioContext),an=nn.createGain();an.connect(nn.destination);var sn="THRM",rn=new pt({domain:new st({min:0,max:100}),range:new st({min:440,max:880})}),ln=[440,493.88,554.37,587.33,659.25,739.99,830.61,880],un=function(e){var t,n,i=rn.map(e);return"THRM"===sn?i:(t=i,ln.reduce((function(e,i){var a=Math.abs(t-i);return null===e?(n=a,i):n<a?e:(n=a,i)}),null))},on=function(e){return.01*e},hn=d({element:document.querySelector("#switch-power")}),cn=d({element:document.querySelector("#switch-type")}),dn=function(e){var t=c(function(e){var t=e.element,n=e.classNames;return{template:'<div class="light body">\n  <div class="mount">\n    <div class="ring outer"></div>\n    <div class="ring inner"></div>\n\n    <div class="bulb"></div>\n  </div>\n</div>\n',element:t,classNames:n=[].concat(r(n||[]),["light"]),props:{isOn:{type:Boolean,default:!1}}}}(e)),n=t.element.querySelector(".light.body");return t.toggle=function(e){var i="boolean"==typeof e?n.classList.toggle("on",e):n.classList.toggle("on");t.emit("toggle",i)},t.propValues.isOn&&t.toggle(!0),t}({element:document.querySelector("#light")}),vn=en({element:document.querySelector("#knob-volume"),initialValue:40}),fn=en({element:document.querySelector("#knob-freq"),initialValue:0});hn.on("toggle",(function(e){var t=e.data;dn.toggle(t),t?(an.gain.setValueAtTime(0,nn.currentTime),(tn=nn.createOscillator()).type="sine",tn.connect(an),tn.frequency.setValueAtTime(440,nn.currentTime),tn.start(),an.gain.linearRampToValueAtTime(on(vn.getValue()),nn.currentTime)):(an.gain.linearRampToValueAtTime(0,nn.currentTime+.2),tn.stop(nn.currentTime+1))})),cn.on("toggle",(function(e){var t=e.data;sn=t?"MUS":"THRM"})),vn.on("rotate",(function(e){var t=e.data;an.gain.linearRampToValueAtTime(on(fn.getValue(t)),nn.currentTime+.1)})),fn.on("rotate",(function(e){var t=e.data,n=fn.getValue(t),i=un(n);tn.frequency.setValueAtTime(i,nn.currentTime)}));
//# sourceMappingURL=main.min.js.map
